{% extends 'base.html.twig' %}

{% block body %}
    {% include 'components/_sidebar.html.twig' %}

    <div class="sidebar-content">
        {# Header with page title and actions #}
        <header class="bg-white border-b border-gray-200">
            <div class="flex items-center justify-between px-4 py-3">
                <div class="flex items-center">
                    <button data-drawer-target="sidebar" data-drawer-toggle="sidebar" aria-controls="sidebar" type="button" class="inline-flex items-center p-2 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200">
                        <span class="sr-only">Ouvrir le menu</span>
                        <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20">
                            <path clip-rule="evenodd" fill-rule="evenodd" d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"></path>
                        </svg>
                    </button>
                    <h1 class="text-xl font-semibold text-gray-800 ms-2 sm:ms-0">{% block page_title %}{% endblock %}</h1>
                </div>
                <div class="flex items-center gap-4">
                    {% block page_actions %}{% endblock %}
                    {% if app.user %}
                        <span class="text-sm text-gray-600 hidden sm:inline">{{ app.user.email }}</span>
                        <a href="{{ path('app_logout') }}" class="text-sm text-gray-500 hover:text-gray-700">DÃ©connexion</a>
                    {% endif %}
                </div>
            </div>
        </header>

        <main class="p-4">
            {% block breadcrumbs %}{% endblock %}

            {% for message in app.flashes('success') %}
                <div class="p-4 mb-4 text-sm text-green-800 rounded-lg bg-green-50" role="alert">
                    {{ message }}
                </div>
            {% endfor %}

            {% for message in app.flashes('error') %}
                <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50" role="alert">
                    {{ message }}
                </div>
            {% endfor %}

            {% for message in app.flashes('warning') %}
                <div class="p-4 mb-4 text-sm text-yellow-800 rounded-lg bg-yellow-50" role="alert">
                    {{ message }}
                </div>
            {% endfor %}

            {% block content %}{% endblock %}
        </main>
    </div>
{% endblock %}
